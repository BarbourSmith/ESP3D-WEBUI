<div id="tablettab" class="tabcontent tablettab">
  <div id="tablet-listener">
    <div class = "maslow">
      <div class = "display tablettab-canvas-wrapper" >
        <canvas id="small-toolpath" class="previewer" style="width: 100%; height: 100%"></canvas>
        <textarea style="border:  none" class="gcode" id="gcode" rows="8" placeholder="GCode File Display" spellcheck="false" readonly>
        </textarea>
      </div>
      <div class = "tablettab-controls-wrapper">
        <div style="grid-template-columns: 25% 25% 25% 25%;" class="maslow-grid-container tablettab-controls-item">
          <div class="maslow-grid-item maslow-grid-item-btn" onclick="sendMove('X-Y+')" style = "background-color: #b69fcb;">
            <canvas id = "tlBtn" style="width: 100%; height: 100%"></canvas>
          </div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #9d88c0;" onclick="sendMove('Y+')"><canvas id = "upBtn" style="width: 100%; height: 100%"></canvas></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #b69fcb;" onclick="sendMove('X+Y+')"><canvas id = "trBtn" style="width: 100%; height: 100%"></canvas></div>  
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" onclick="files_select_upload()">Load 
          File</div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #9d88c0;" onclick="sendMove('X-')"><canvas id = "lBtn" style="width: 100%; height: 100%"></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" onclick="moveHome()"><canvas id = "hBtn" style="width: 100%; height: 100%"></div>  
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #9d88c0;" onclick="sendMove('X+')"><canvas id = "rBtn" style="width: 100%; height: 100%"></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4; font-size: 1vw;" onclick="loadCornerValues(); openModal('calibration-popup');" id = "calibrationBTN" font-size: 1vw;>Setup</div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #b69fcb;" onclick="sendMove('X-Y-')"><canvas id = "blBtn" style="width: 100%; height: 100%"></canvas></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #9d88c0;" onclick="sendMove('Y-')"><canvas id = "dnBtn" style="width: 100%; height: 100%"></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #b69fcb;" onclick="sendMove('X+Y-')"><canvas id = "brBtn" style="width: 100%; height: 100%"></canvas></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" onclick="openModal('z-axis-popup');" id = "zBtn">Z</div>
          <div class="maslow-grid-item maslow-grid-item-btn" >Dist To Move:</div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" id = "disM">100</div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" id="units" title="Toggle Units" onclick="toggleUnits()">mm</div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #f2f0e4;" onmousedown="zeroAxis('X');zeroAxis('Y');" onmouseup="refreshGcode();">Define
          Home</div>
        </div>
        <div class="maslow-grid-container tablettab-controls-item">
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #4aa85c;" onclick="runGCode();"><canvas id = "playBtn" style="width: 100%; height: 100%"></canvas></div>
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #efbb33;" onclick="pauseGCode();"><canvas id = "pauseBtn" style="width: 100%; height: 100%"></canvas></div>  
          <div class="maslow-grid-item maslow-grid-item-btn" style = "background-color: #cd654c;" onclick="onCalibrationButtonsClick('$ESTOP','Home Z');"><canvas id = "stopBtn" style="width: 100%; height: 100%"></canvas></div>
        </div>
        <select class="tablettab-controls-item" id="filelist" onchange="selectFile()">
          <option>Load GCode File</option>
        </select>
        <div class="maslow-grid-container tablettab-controls-item" style="grid-template-columns: auto auto;">
          <div class="maslow-grid-item">
            <table style="width:100%">
              <tr>
                <td>X:</td>
                <td id="mpos-x">
                  0.000
                </td>
              </tr>
              <tr>
                <td>Y:</td>
                <td id="mpos-y">
                  0.000
                </td>
              </tr>
              <tr>
                <td>Z:</td>
                <td id="mpos-z">
                  0.000
                </td>
              </tr>
  
              <tr>
                <td id="active-state"></td>
              </tr>
            </table>
          </div>
          <div onclick="clearAlarm()"  id = "systemStatus" class="maslow-grid-item system-status">Idle</div>  
        </div>
        <textarea style="border:  none" class="messages tablettab-controls-item" id="messages" rows="14" spellcheck="false" readonly>Serial Messages</textarea>
      </div>
    </div>

  </div>

    <div id="z-axis-popup" class="calibration-modal-container" onclick="hideModal('z-axis-popup')">
      <div class="calibration-modal-content" onclick="event.stopPropagation();">
          <div class="calibration-modal-button-container">
              <div class="buttons-row">   
                <div class="calibration-modal-info" id = "disZ"> 1.00</div>
                <button class="calibration-modal-button" onclick="sendMove('Z+')"> Up</button>                     
              </div>
              <div class="buttons-row">
                <button class="calibration-modal-button" onclick="zeroAxis('Z')"> Define Home</button>
                <button class="calibration-modal-button" onclick="sendMove('Z-')"> Down</button>
              </div>
              
            </div>
      </div>
    </div>

    <div id="calibration-popup" class="calibration-modal-container" onclick="hideModal('calibration-popup')">
      <div class="calibration-modal-content" onclick="event.stopPropagation();">
          <div class="calibration-modal-button-container">
              <div class="buttons-row">
                <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$ALL','Retract All');">Retract All</button>
                <span class="arrow">&#8594;</span>
                <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$EXT','Extend All');">Extend All</button>
                <div class="buttons-row-col-el">
                  <span class="arrow">&#8599;</span>
                  <span class="arrow">&#8600;</span>
                </div>
                <div class="buttons-row-col-el">
                  <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$CAL','Calibrate'); hideModal('configuration-popup')">Calibrate</button>
                  <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$TKSLK','Apply Tension'); hideModal('configuration-popup')">Apply Tension</button>
                </div>
                
                
              </div>
              <div class="buttons-row">
                <!-- <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$TKSLK','Home Z');">Home Z</button> -->
                <button class="calibration-modal-button" onclick="loadConfigValues(); openModal('configuration-popup');">Config</button>
                <button class="calibration-modal-button stop-button" onclick="onCalibrationButtonsClick('$STOP','Stop');">Stop</button>
                <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$HZAxis','Zero Z');">Home Z</button>
              </div>
              <div class="buttons-row">
                <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$TEST','Test');">Test</button>
                <button class="calibration-modal-button" onclick="onCalibrationButtonsClick('$CMP','Release Tension');">Release Tension</button>
              </div>
              
            </div>
      </div>
    </div>

    <div id="configuration-popup" class="calibration-modal-container" onclick="hideModal('configuration-popup')">
      <div class="calibration-modal-content" onclick="event.stopPropagation();">
        <div class="calibration-modal-button-container">
          <div class="input-row">
            <div style="display: flex; justify-content: center;">
              <label style="text-align: center;">Configuration</label>
            </div>
          </div>
          <hr style="border-top: 1px dashed;">
          <div class="grid-container">
            <div class="input-row">
              <label for="machineWidth" class="input-label">Machine Width(mm)</label>
            </div>
            <div class="input-row">
              <input id="machineWidth" type="text" class="calibration-modal-input">
            </div>
            <div class="input-row">
              <label for="machineHeight" class="input-label">Machine Height(mm)</label>
            </div>
            <div class="input-row">
              <input id="machineHeight" type="text" class="calibration-modal-input">
            </div>
            <div class="input-row">
              <label for="machineOrientation" class="input-label">Orientation</label>
            </div>
            <div class="input-row">
              <select id="machineOrientation" class="calibration-modal-input">
                <option value="horizontal">Horizontal</option>
                <option value="vertical">Vertical</option>
              </select>
            </div>
          </div>
          <hr style="border-top: 1px dashed;">
          <div class="input-row">
            <div style="display: flex; justify-content: center;">
              <label style="text-align: center;">Calibration Grid</label>
            </div>
          </div>
          <div class="grid-container">
            <div class="input-row">
              <label for="gridWidth" class="input-label">Width(mm)</label>
            </div>
            <div class="input-row">
              <input id="gridWidth" type="text" class="calibration-modal-input">
            </div>
            <div class="input-row">
              <label for="gridHeight" class="input-label">Height(mm)</label>
            </div>
            <div class="input-row">
              <input id="gridHeight" type="text" class="calibration-modal-input">
            </div>
            <div class="input-row">
              <label for="gridSize" class="input-label">Grid Size:</label>
            </div>
            <div class="input-row">
              <select id="gridSize" class="calibration-modal-input">
                <option value="3">3x3</option>
                <option value="5">5x5</option>
                <option value="7">7x7</option>
                <option value="9" selected>9x9</option>
              </select>
            </div>
          </div>
          <hr style="border-top: 1px dashed;">
          <div class="grid-container">
            <div class="input-row">
              <label for="retractionForce" class="input-label">Retraction Force</label>
            </div>
            <div class="input-row">
              <input id="retractionForce" type="text" class="calibration-modal-input">
            </div>
          </div>
          <hr style="border-top: 1px dashed;">
          <div class="input-row">
            <button type="button" class="calibration-modal-button" onclick="saveConfigValues();">Save</button>
          </div>
        </div>
      </div>
    </div>





